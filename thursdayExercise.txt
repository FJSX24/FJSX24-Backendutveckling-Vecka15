ğŸ“Œ Ã–vningar â€“ Middleware

ğŸ§© LÃ¤tta

1. pingCounter middleware

ğŸŸ¢ Syfte: FÃ¶rstÃ¥ att middleware kan lagra tillstÃ¥nd (i RAM).

ğŸ› ï¸ Instruktion: Skapa en variabel pingCount och en middleware som Ã¶kar rÃ¤knaren varje gÃ¥ng /api/ping anropas.

âœ”ï¸ AnvÃ¤nd pÃ¥ route:
app.get("/api/ping", pingCounter, (req, res) => {
  res.json({ message: "pong" });
});

----------------------------------------
2. poweredBy middleware

ğŸŸ¢ Syfte: LÃ¤gg till headers i alla svar.

ğŸ› ï¸ Instruktion: Skapa en middleware som lÃ¤gger till res.setHeader
("X-Powered-By", "Chas").

âœ”ï¸ AnvÃ¤nd globalt:
app.use(poweredBy);

----------------------------------------
3. Skapa en enkel middleware fÃ¶r IP-loggning

â€ƒâ¤ Syfte: LÃ¤ra sig req.ip, koppla till verkliga anvÃ¤ndningsfall.

Uppgift: Skapa en middleware som loggar IP-adressen fÃ¶r varje inkommande request.

Bonus: Spara loggarna till en fil.

Tips: AnvÃ¤nd req.ip fÃ¶r att hÃ¤mta IP-adressen.

----------------------------------------
----------------------------------------
----------------------------------------
ğŸ”§ Medel
4. requireName middleware

ğŸŸ¡ Syfte: Validering av request body.

ğŸ› ï¸ Skapa en middleware som kontrollerar att req.body.name finns, annars returnera 400 Bad Request.

âœ”ï¸ AnvÃ¤nd fÃ¶re POST /api/users

----------------------------------------
5. logHeaders middleware

ğŸŸ¡ Syfte: Inspektera inkommande headers.

ğŸ› ï¸ Logga alla headers frÃ¥n req.headers i konsolen.

âœ”ï¸ AnvÃ¤nd pÃ¥ valfri route fÃ¶r test

----------------------------------------
6. Autentiseringsmiddleware

Uppgift: Implementera en middleware som kollar efter en API-nyckel i request-headern.

Krav:
Om nyckeln saknas eller Ã¤r felaktig, returnera status 401 med ett felmeddelande.

Om nyckeln Ã¤r korrekt, fortsÃ¤tt till nÃ¤sta middleware.

Bonus: LÃ¤gg till miljÃ¶variabler fÃ¶r att hantera API-nyckeln.

----------------------------------------
----------------------------------------
----------------------------------------
ğŸš€ Avancerade

7. validateUser middleware

ğŸ”´ Syfte: SÃ¤tta regler fÃ¶r input-data.

ğŸ› ï¸ Kontrollera att name Ã¤r minst 3 tecken. Annars returnera 400 Bad Request.

âœ”ï¸ AnvÃ¤nd fÃ¶re POST /api/users

----------------------------------------
8. Rate limiter middleware 

Uppgift: Skapa en rate limiter som tillÃ¥ter max 10 requests per minut per IP-adress.

Funktionalitet:

AnvÃ¤nd en minnesbaserad databas som Map fÃ¶r att hÃ¥lla koll pÃ¥ antalet requests per IP.

Returnera status 429 om antalet requests Ã¶verstiger grÃ¤nsen.

Bonus: Implementera en mer avancerad lÃ¶sning med Redis fÃ¶r att hantera fler klienter.


----------------------------------------
9. notFoundHandler â€“ hantera ogiltiga routes

ğŸ”´ Syfte: Hantera alla icke-matchande routes i slutet av filen.

ğŸ› ï¸ Middleware som returnerar 404 och ett meddelande.

âœ”ï¸ Ska ligga efter alla andra routes

-------------------------------------------
-------------------------------------------
-------------------------------------------
Ã–vnings instruktioner fÃ¶r min code along:

ğŸ§ª Ã–vning â€“ Bygg ett Middleware-bibliotek i Express
NivÃ¥: SvÃ¥r
TidsÃ¥tgÃ¥ng: 2â€“3 timmar
Syfte: FÃ¶rstÃ¥ vad middleware Ã¤r och hur det anvÃ¤nds fÃ¶r att strukturera och fÃ¶rbÃ¤ttra backendlogik i en Express-applikation.

 Bakgrund
Du Ã¤r backendutvecklare i ett team som bygger ett API till en ny SaaS-produkt. 

Chefen vill kunna se alla anrop som kommer in (loggning), ha koll pÃ¥ hur mÃ¥nga gÃ¥nger API:et anvÃ¤nds (rÃ¤knare) och att tjÃ¤nsten inte kraschar vid fel (felhantering). Vi ska nu bygga in dessa funktioner i vÃ¥r Express-server.:


Att dina middelwares ska inte blandas in direkt i route-filer â€“ det ska hÃ¥llas snyggt, modulÃ¤rt och professionellt.

Ditt uppdrag Ã¤r att bygga detta med hjÃ¤lp av egna middleware-funktioner i Express.

- Logga alla inkommande requests
MÃ¥l: Skapa ett system som loggar alla inkommande HTTP-anrop med metod och URL.

ğŸ“Œ Instruktioner:

Utforska winston-paketet och skapa en logger som:

Skriver loggar till bÃ¥de terminalen och en loggfil

Inkluderar datum, nivÃ¥ och meddelande

Skapa en middleware-funktion som:

Tar emot varje inkommande request

Loggar metoden och URL

GÃ¥r vidare med next()

ğŸ“‚ Placera i: middleware/logger.js

ğŸ§  Tips: LÃ¤s dokumentationen fÃ¶r winston â†’ https://github.com/winstonjs/winston


- FÃ¥ koll pÃ¥ hur mÃ¥nga requests som API:t fÃ¥r
MÃ¥l: HÃ¥ll koll pÃ¥ hur mÃ¥nga requests servern fÃ¥tt sedan start.

ğŸ“Œ Instruktioner:

Skapa en variabel requestCount (utanfÃ¶r middleware-funktionen) som rÃ¤knar varje request.

Logga den aktuella siffran i terminalen vid varje anrop.

AnvÃ¤nd next() fÃ¶r att gÃ¥ vidare i middleware-kedjan.

ğŸ“‚ Placera i: middleware/requestCounter.js


- FÃ¥ bÃ¤ttre felmeddelanden
MÃ¥l: Kunna fÃ¥nga och logga serverfel, och svara med ett JSON-felmeddelande till klienten.

ğŸ“Œ Instruktioner:

Skapa en middleware som tar emot 4 argument: err, req, res, next

Logga felet som "error"-nivÃ¥ med din winston-logger

Svara med en statuskod 500 och ett JSON-objekt med:
{
  "error": "Serverfel",
  "message": "Det hÃ¤r Ã¤r felet som uppstod..."
}

ğŸ“‚ Placera i: middleware/errorHandler.js


- Skriva loggar bÃ¥de till konsol och till fil

AnvÃ¤nd alla middleware i server.js 
Importera Express, dina tre middleware och morgan.

AnvÃ¤nd app.use() fÃ¶r att:

Aktivera morgan("dev") fÃ¶rst (fÃ¶r att se skillnad)

AnvÃ¤nd din egen logger

AnvÃ¤nd din request counter

Skapa tvÃ¥ routes:

GET / â†’ Returnera "hello middleware"

GET /error â†’ Kasta ett fel med throw new Error("NÃ¥got gick fel")

Placera errorHandler sist i kedjan med app.use().


- Testa allt! 
Anropa / flera gÃ¥nger â†’ se bÃ¥de morgan och winston-loggar.

Anropa /error â†’ se att fel loggas och rÃ¤tt JSON svar skickas.

Kolla att combined.log uppdateras.


---------------------------------------
---------------------------------------
---------------------------------------
âœ… Vad fÃ¶rvÃ¤ntas av en nyexaminerad Fullstack/JavaScript-utvecklare (YH-nivÃ¥)?

HÃ¤r Ã¤r en sammanstÃ¤llning av branschens generella fÃ¶rvÃ¤ntningar fÃ¶r en junior fullstackutvecklare med inriktning pÃ¥ JavaScript (React + Node.js):

ğŸ§  GrundlÃ¤ggande kunskaper â€“ fÃ¶rvÃ¤ntas kunna:
JavaScript (ES6+) â€“ variabler, funktioner, objekt, arraymetoder, promises, async/await, map, filter, reduce, destructuring,

HTML & CSS â€“ semantik, formulÃ¤r, Flexbox/Grid, responsiv design, media queries, WCAG basics

React (eller annat liknande bibliotek) â€“ komponentstruktur, props, state, hooks (useEffect, useState), Global state

Node.js + Express â€“ skapa API:er, routing, middleware, error handling, MiljÃ¶variabler, dotenv

Databaser â€“ grundlÃ¤ggande CRUD med SQL (PostgreSQL, MySQL) eller NoSQL (MongoDB)

REST API-koncept â€“ HTTP-metoder, statuskoder, request/response

Git & GitHub â€“ commits, branches, pull requests, merge conflicts

JSON och API-anrop â€“ fÃ¶rstÃ¥ fetch, async flÃ¶den

ğŸ›  Verktyg & miljÃ¶ â€“ grundlÃ¤ggande fÃ¶rstÃ¥else av:
Postman / Insomnia (API-testning)

NPM & package.json

MiljÃ¶variabler och .env-filer

Enkel felsÃ¶kning i DevTools

ğŸ¤ ArbetssÃ¤tt â€“ nybÃ¶rjarnivÃ¥ men fÃ¶rstÃ¥else fÃ¶r:
Scrum / Kanban / Agila metoder

Sprintplanering, standups, retros

Att jobba i team, code reviews och pull requests
Kan arbeta i grupp med GitHub-flÃ¶den (issue â†’ branch â†’ PR)

----------------------------------
ğŸŸ¡ Vad som INTE fÃ¶rvÃ¤ntas av en junior (men ofta missfÃ¶rstÃ¥s som "mÃ¥ste kunna"):
âŒ Bygga stora, skalbara appar frÃ¥n grunden
âŒ Kunna GraphQL, WebSockets, Docker, CI/CD
âŒ Avancerad autentisering med OAuth2
âŒ Kunna flera databaser
âŒ Ha full koll pÃ¥ sÃ¤kerhet, DevOps, eller test coverage
âŒ Bygga perfekt UI/UX enligt Figma-mockups

â¡ Men: en fÃ¶rstÃ¥else fÃ¶r grunderna i dessa rÃ¤cker lÃ¥ngt.
----------------------------------
ğŸ­ Simulerad anstÃ¤llningsprocess â€“ Junior Fullstackutvecklare

HÃ¤r Ã¤r en realistisk rekryteringsprocess (speciellt fÃ¶r fÃ¶rsta jobbet efter YH-utbildning):

ğŸ§¾ 1. AnsÃ¶kan / screening
Du skickar in:

CV

LÃ¤nk till GitHub

LÃ¤nk till portfolio/projekt/demo

ğŸ‘‰ Tips: GitHub-aktivitet vÃ¤ger tungt (projekt med README, issues, branches)

ğŸ“ 2. Telefon-/videointervju (30â€“45 min)
Syfte: Kolla din motivation, samarbetsfÃ¶rmÃ¥ga, fÃ¶rstÃ¥else fÃ¶r teknik

Exempel pÃ¥ frÃ¥gor:

â€œBerÃ¤tta om ett projekt du Ã¤r stolt Ã¶ver.â€

â€œVad gÃ¶r du nÃ¤r du fastnar?â€

â€œHur testar du att ett API fungerar?â€

â€œVad Ã¤r skillnaden pÃ¥ GET och POST?â€

â€œVad Ã¤r ett promise?â€

ğŸ’» 3. Kodtest â€“ exempel (60â€“90 min)
ğŸŸ¢ NivÃ¥: junior
ğŸ§ª Syfte: Visa logiskt tÃ¤nkande, grundlÃ¤ggande syntax, API-hantering, arraymanipulation

Kodtest-exempel:
Du ska bygga ett mini-API i Express med tvÃ¥ endpoints:

GET /notes â€“ returnerar en array av anteckningar (existerar i minnet)

POST /notes â€“ tar emot ett JSON-objekt { title, content } och lÃ¤gger till i arrayen

âœ… Validera att title och content inte Ã¤r tomma.
âœ… Returnera 400 om nÃ¥got saknas.
âœ… Returnera den uppdaterade listan efter att en anteckning lagts till.

Bonus: LÃ¤gg till en middleware som loggar IP och endpoint pÃ¥ varje request.

ğŸ‘‰ PoÃ¤ngen ligger inte i perfekt lÃ¶sning â€“ utan i:

Har de fÃ¶rstÃ¥tt req.body, res.status()?

Har de lÃ¤st instruktionen?

Har de strukturerat koden logiskt?

ğŸ¤ 4. Live intervju (teknisk + kulturell, 45â€“60 min)
Syfte: Prata om kodtestet, deras process och tÃ¤nk.
FrÃ¥gor:

â€œVad var svÃ¥rt i testet?â€

â€œVarfÃ¶r gjorde du sÃ¥ hÃ¤r?â€

â€œHur hade du lÃ¶st det annorlunda med mer tid?â€

------------------------------
ğŸ‘©â€ğŸ’» Kodtest: Backend â€“ Express API + Middleware
ğŸ’¡ Uppdrag:
Bygg ett API fÃ¶r att hantera anvÃ¤ndare.

ğŸ§ª Kravspecifikation:
Endpoints:

GET /api/users â†’ returnerar alla anvÃ¤ndare

POST /api/users â†’ lÃ¤gger till en ny anvÃ¤ndare

validera att name finns och Ã¤r minst 3 tecken

GET /api/users/:id â†’ returnerar en enskild anvÃ¤ndare

DELETE /api/users/:id â†’ tar bort en anvÃ¤ndare

Middleware:

En middleware ska logga req.method, req.url och tidpunkt

En error handler som returnerar JSON + 500

Extra poÃ¤ng:

Spara data till en JSON-fil med fs.promises

AnvÃ¤nd miljÃ¶variabler fÃ¶r PORT

ğŸ›  Stack:
Node.js, Express, valfritt lagringsformat (minne eller fil)
----------------------------------
ğŸ‘¨â€ğŸ¨ Kodtest: Frontend â€“ React + Global State + Fetch
ğŸ’¡ Uppdrag:
Bygg ett frontend-grÃ¤nssnitt fÃ¶r att hantera anvÃ¤ndarlistan frÃ¥n backend-testet ovan.

ğŸ§ª Kravspecifikation:
Visa anvÃ¤ndare:

HÃ¤mta data frÃ¥n /api/users och visa i en lista

Visa â€œLaddar...â€ tills datan Ã¤r hÃ¤mtad

LÃ¤gg till anvÃ¤ndare:

Form med input fÃ¶r name

POST:a till /api/users och uppdatera listan lokalt

Global state:

AnvÃ¤nd Context API eller Redux Toolkit fÃ¶r att spara anvÃ¤ndarlistan

Skapa en Provider som hanterar fetch + state

Extra poÃ¤ng:

Radera anvÃ¤ndare

AnvÃ¤nd react-router fÃ¶r att visa detaljerad vy fÃ¶r en anvÃ¤ndare (/users/:id)