ğŸ“Œ Ã–vningar â€“ Middleware

ğŸ§© LÃ¤tta

1. pingCounter middleware

ğŸŸ¢ Syfte: FÃ¶rstÃ¥ att middleware kan lagra tillstÃ¥nd (i RAM).

ğŸ› ï¸ Instruktion: Skapa en variabel pingCount och en middleware som Ã¶kar rÃ¤knaren varje gÃ¥ng /api/ping anropas.

âœ”ï¸ AnvÃ¤nd pÃ¥ route:
app.get("/api/ping", pingCounter, (req, res) => {
  res.json({ message: "pong" });
});

----------------------------------------
2. poweredBy middleware

ğŸŸ¢ Syfte: LÃ¤gg till headers i alla svar.

ğŸ› ï¸ Instruktion: Skapa en middleware som lÃ¤gger till res.setHeader
("X-Powered-By", "Chas").

âœ”ï¸ AnvÃ¤nd globalt:
app.use(poweredBy);

----------------------------------------
3. Skapa en enkel middleware fÃ¶r IP-loggning

â€ƒâ¤ Syfte: LÃ¤ra sig req.ip, koppla till verkliga anvÃ¤ndningsfall.

Uppgift: Skapa en middleware som loggar IP-adressen fÃ¶r varje inkommande request.

Bonus: Spara loggarna till en fil.

Tips: AnvÃ¤nd req.ip fÃ¶r att hÃ¤mta IP-adressen.

----------------------------------------
----------------------------------------
----------------------------------------
ğŸ”§ Medel
4. requireName middleware

ğŸŸ¡ Syfte: Validering av request body.

ğŸ› ï¸ Skapa en middleware som kontrollerar att req.body.name finns, annars returnera 400 Bad Request.

âœ”ï¸ AnvÃ¤nd fÃ¶re POST /api/users

----------------------------------------
5. logHeaders middleware

ğŸŸ¡ Syfte: Inspektera inkommande headers.

ğŸ› ï¸ Logga alla headers frÃ¥n req.headers i konsolen.

âœ”ï¸ AnvÃ¤nd pÃ¥ valfri route fÃ¶r test

----------------------------------------
6. Autentiseringsmiddleware

Uppgift: Implementera en middleware som kollar efter en API-nyckel i request-headern.

Krav:
Om nyckeln saknas eller Ã¤r felaktig, returnera status 401 med ett felmeddelande.

Om nyckeln Ã¤r korrekt, fortsÃ¤tt till nÃ¤sta middleware.

Bonus: LÃ¤gg till miljÃ¶variabler fÃ¶r att hantera API-nyckeln.

----------------------------------------
----------------------------------------
----------------------------------------
ğŸš€ Avancerade

7. validateUser middleware

ğŸ”´ Syfte: SÃ¤tta regler fÃ¶r input-data.

ğŸ› ï¸ Kontrollera att name Ã¤r minst 3 tecken. Annars returnera 400 Bad Request.

âœ”ï¸ AnvÃ¤nd fÃ¶re POST /api/users

----------------------------------------
8. Rate limiter middleware 

Uppgift: Skapa en rate limiter som tillÃ¥ter max 10 requests per minut per IP-adress.

Funktionalitet:

AnvÃ¤nd en minnesbaserad databas som Map fÃ¶r att hÃ¥lla koll pÃ¥ antalet requests per IP.

Returnera status 429 om antalet requests Ã¶verstiger grÃ¤nsen.

Bonus: Implementera en mer avancerad lÃ¶sning med Redis fÃ¶r att hantera fler klienter.


----------------------------------------
9. notFoundHandler â€“ hantera ogiltiga routes

ğŸ”´ Syfte: Hantera alla icke-matchande routes i slutet av filen.

ğŸ› ï¸ Middleware som returnerar 404 och ett meddelande.

âœ”ï¸ Ska ligga efter alla andra routes